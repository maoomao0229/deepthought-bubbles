# 深思氣泡 (DeepThought Bubbles) 產品需求文件 (PRD)

> **版本**: v1.0  
> **最後更新**: 2025-12-19  
> **文件狀態**: 正式版

---

## 📋 目錄

1. [核心概念與世界觀](#1-核心概念與世界觀)
2. [視覺規範 (VIBE System)](#2-視覺規範-vibe-system)
3. [功能邏輯](#3-功能邏輯)
4. [商業模式](#4-商業模式)
5. [技術規範](#5-技術規範)
6. [開發規範](#6-開發規範)

---

## 1. 核心概念與世界觀

### 1.1 品牌神話 (Brand Mythology)

**「在資訊的海洋裡，每個人都是用泡泡狩獵知識的座頭鯨。」**

這個 App 的世界建立在一個強烈的隱喻之上：每一位使用者都是一隻在深海中的**「思考座頭鯨」**。你靠自己吐出的**泡泡陣 (Bubble Net)**，用獨特的方式捕捉知識（觀點）。這些泡泡在海中與其他座頭鯨互相交錯、共振，形成巨大的「知識生態系」。

### 1.2 世界觀背景 (Lore)

#### 資訊海 (Oceania of Thoughts)
全世界的資訊不是文字，而是「海中的生命」。深度越大的議題越往深海層沉，浮在上面的是快速、輕巧的小魚（短內容）。

#### 座頭鯨 (The User)
使用者不是用鯨鬚吃魚，而是用「思考」捕捉知識。每個人吐出的泡泡是想法、觀點、對議題的回應，是你理解世界的方式。

#### 泡泡陣 (Bubble-Net)
你的觀點會吸引相似的小魚靠近。泡泡越多、圈越大，你捕捉的知識越豐富。

#### 海的深度 (Depth)
- **上層 (Surface)**：快速略過的短觀點
- **中層 (Midzone)**：一般長度的理性分析
- **深層 (Depth)**：哲學疑問與複雜議題（巨型深海生物）

#### 每日換氣 (Surface Breath)
座頭鯨需要定時浮上水面換氣，這就是你的「每日反思頁」。

### 1.3 每日機制流程

**每日潛入 (Daily Dive) → 輸出觀點 → 氣泡上升 → 深海聲納反饋**

---

## 2. 視覺規範 (VIBE System)

### 2.1 核心色票系統 (Strict Palette)

#### 🔵 Blue (海洋基調 - 用於背景、主視覺)
- `blue-900` (Heavy): `#316794` - 深海背景 / Dark Mode 主背景
- `blue-700` (Dense): `#4376A0` - 卡片深色態
- `blue-500` (Medium): `#5B8BB4` - 主要按鈕 Primary
- `blue-300` (Pale): `#7AA6C9` - 次要文字
- `blue-100` (Light): `#9FC1DD` - 裝飾性背景

#### 🟣 Indigo (深邃意象 - 用於沈浸區、強調)
- `indigo-900` (Heavy): `#3B489D` - 深淵背景 / 刪除按鈕背景
- `indigo-700` (Dense): `#4D5AAA`
- `indigo-500` (Medium): `#6571BC` - 品牌強調色 Accent
- `indigo-300` (Pale): `#848ECF`
- `indigo-100` (Light): `#A6AEE1`

#### 🟢 Green (生機 - 氣泡/成功狀態)
- `green-900` (Heavy): `#29937C`
- `green-700` (Dense): `#3CA08A`
- `green-500` (Medium): `#54B39E` - 泡泡本體 / 確認按鈕 / Success
- `green-300` (Pale): `#75C9B6`
- `green-100` (Light): `#9BDDCE`

#### 🟡 Yellow (警示/蝦米 - 取代紅色)
- `yellow-900` (Heavy): `#E59F40`
- `yellow-700` (Dense): `#F8B75C` - Text Error
- `yellow-500` (Medium): `#FFC678` - Warning/Icons / Error Message
- `yellow-300` (Pale): `#FFD294`
- `yellow-100` (Light): `#FFDFB3`

#### ⚪️ Neutral (中性色)
- `gray-900` (Black): `#161819` - 標題文字
- `gray-500` (Gray): `#898A91` - 輔助說明文字
- `gray-50` (White): `#FFFBF6` - 卡片背景 / 暖白文字

### 2.2 嚴格規則

1. **絕對禁止使用紅色 (NO RED)**：紅色會引發焦慮，違反本 App 的沈靜設計哲學
2. **錯誤與警示處理**：所有錯誤訊息 (Error)、警告 (Warning)，請一律使用 **Yellow** 色系替代
3. **刪除動作**：請視為「回歸深海」，使用 **Indigo** 或 **Gray**，避免使用破壞性的視覺暗示

### 2.3 間距與外觀

- **間距系統**：所有 Margin/Padding 必須是 **4px** 或 **8px** 的倍數
- **圓角系統**：`rounded-2xl` (卡片) / `rounded-full` (泡泡/按鈕)
- **RWD 響應式**：
  - **Mobile (< 768px)**: 滿版全螢幕
  - **Desktop (>= 768px)**: 內容限制在 `max-w-[430px]` 置中容器內，背景模糊處理

### 2.4 動畫規範

- **氣泡浮動 (animate-float)**：6s ease-in-out infinite，模擬深海中的緩慢浮動效果
- **淡入 (animate-fade-in)**：0.3s ease-out，用於 Modal 與內容的漸入效果
- **縮放上升 (animate-scale-up)**：0.4s ease-out，用於 Modal 卡片的出現效果

---

## 3. 功能邏輯

### 3.1 每日潛入 (Daily Dive)

#### 核心機制
- **無限畫布互動**：使用者可拖曳畫布探索思想氣泡
- **磁力吸附效果**：滑鼠靠近氣泡時，氣泡會輕微移動，產生磁力互動
- **單一精選泡泡**：每日一題，聚焦思考
- **填空式引導**：降低寫作門檻

#### 互動流程
1. 啟動畫面：配合深海音效與視覺
2. 選擇種子議題：在無限畫布上點選氣泡
3. 輸入觀點：在 Modal 中填寫思考內容
4. 觀點浮起動畫：完成後氣泡上升
5. 立即導向「深海聲納儀」展示今日數據變化 (Immediate Reward)

### 3.2 深海聲納儀 (Deep Sonar Dashboard)

#### 第一層：今日即時數據 (The Daily Ping)

**肺活量 (Lung Capacity)**
- **算法**：`(今日總輸出字數 / 每日目標 300字) * 100%`
- **加權**：若為「原創泡泡」而非回覆，字數積分 x 1.5 倍
- **視覺**：動態氣泡圈，隨著完成度從 0% 到 100%，氣泡圈會像呼吸一樣緩慢縮放並變大、變亮

**目前水壓值 (Current Pressure)**
- **算法**：`(上層數 x 1) + (中層數 x 5) + (深層數 x 20)`
- **重點**：獎勵「深度」而非「數量」。看 1 篇深層長文的水壓 > 看 20 篇廢文
- **視覺**：畫面邊緣的暗角 (Vignette)。數值越高，螢幕邊緣的深海藍/深紫色就越濃重

**生物發光 (Bioluminescence)**
- **算法**：今日收到的共鳴震動數 + 今日收藏的文章數
- **限制**：設定視覺上限 (例如 Max 10 點)，避免畫面過亂
- **視覺**：雷達掃描圖上隨機閃爍的螢光亮點

#### 第二層：週度趨勢 (The Weekly Wave)

**聲納覆蓋域 (Sonar Coverage)**
- **算法**：各主題互動數 / 總互動數
- **統計對象**：發文、回覆、收藏、停留超過 30 秒的瀏覽
- **視覺**：分段環狀圖 (Segmented Donut)，將圓環分為 5 等份

**回聲定位反饋 (Echolocation)**
- **算法**：
  1. **核心**：本週發出的泡泡數
  2. **擴散**：收到的回覆數 + 共鳴數
- **視覺**：多層波紋圖 (Ripple Chart)

#### 第三層：月度與生涯 (The Deep Archive)

**洄游節奏 (Migration Rhythm)**
- **算法**：每日綜合積分 (XP) 映射到顏色深淺
- **綜合積分**：`(字數 x 0.1) + (水壓值 x 0.5) + (共鳴數 x 2)`
- **視覺**：深海熱力圖 (Deep Sea Heatmap)

**海溝探勘紀錄 (Trench Record)**
- **算法**：抓取本月閱讀過的內容中，「權重分數最高」的那一篇所在的深度座標 (0m - 1000m)
- **視覺**：地形剖面圖 (Profile Map)

**演化歷程 (Evolution Path)**
- **算法**：累積總積分 (Total XP) 對應等級區間
- **等級範例**：
  - Lv1 鼠海豚 (0 XP)
  - Lv2 瓶鼻海豚 (500 XP)
  - Lv3 領航鯨 (1500 XP)
  - Lv4 座頭鯨 (3000 XP)
- **視覺**：物種演化圖 (Species Morphing)

### 3.3 主題泡泡大廳 (Bubble Lobby)

- **目標**：深度探索與零社交壓力的共鳴
- **分類**：時事、心理、文化 (左右滑動探索)
- **深度分層**：
  - **上層 (Surface)**：15-30字短觀點
  - **中層 (Midzone)**：普通評論
  - **下層 (Deep Dive)**：深度長文
- **互動機制**：
  - **共鳴震動 (Haptic Resonance)**：長按產生震動回饋 (取代按讚數顯示)
  - **投餵蝦米**：給予優質內容實質獎勵

---

## 4. 商業模式

### 4.1 個人用戶 (B2C) —— 「能量蝦米」彈性補給制

#### 核心代幣：能量蝦米 (Energy Krill)
- **定義**：App 內的虛擬糧食，屬於單次購買、永久持有的資產
- **視覺設定**：發著微弱暖光的小蝦米 (Yellow 色系)

#### 定價策略 (Price Tiers)
- **點心罐 (4 隻)**：**$50 TWD** - 單價 $12.5/隻，足夠體驗「一個月」的完整功能
- **野餐籃 (24 隻)**：**$250 TWD** - 單價 $10.4/隻，相當於「買 20 送 4」，足夠支撐一個學期（約 6 個月）
- **豐收網 (50 隻)**：**$450 TWD** - 單價 $9.0/隻，最優惠方案，數量足夠「使用一年 (48隻)」並保留「2 隻」作為投餵小費

#### 消耗機制：彈性深潛 (Flexible Dive)
- **🦐 輕量衝刺 (Sprint Mode) —— 消耗 1 隻**：效期 **7 天** (全功能解鎖)
- **🦐🦐🦐🦐 飽食深潛 (Monthly Dive) —— 消耗 4 隻**：效期 **30 天** (全功能解鎖)
- **過期機制**：能量耗盡後自動回復為「省電模式 (Free)」，絕不自動扣款

#### 投餵機制：回聲糧食 (Echo Feeding)
- **規則**：使用者可將庫存的蝦米，投餵給優質觀點的創作者
- **單位**：以 **1 隻** 為單位
- **意義**：收到蝦米的創作者，該蝦米會直接進入其庫存，建立「優質內容 → 賺取會員資格」的正向循環

#### 權限分級對照表

| 功能模組 | 省電模式 (Free) | 飽食狀態 (Premium) | 核心價值差異 |
|---------|----------------|-------------------|------------|
| **📊 深海聲納儀** | 僅能查看「今日」與「本週」數據，歷史數據區呈現模糊狀態 | 清晰查看上月與生涯歷史數據，解鎖完整的「演化歷程」曲線，獲得 AI 階段性思維診斷報告 | 從「紀錄工具」升級為「個人成長資料庫」 |
| **📝 內容瀏覽** | 可瀏覽短觀點，每日有限次數閱讀深層長文 | 無限制瀏覽所有深度長文，無限次呼叫 AI 進行重點摘要，解鎖 AI 邏輯教練功能 | 從「隨機瀏覽」升級為「深度學習」 |
| **🎨 個性化** | 預設外觀 | 可自訂介面主題色（如：極光綠、深淵紫），解鎖特殊的鯨魚頭像裝飾 | 滿足「自我表達」與「歸屬感」 |
| **🎁 社群互動** | 僅能發送「共鳴震動」 | 可將蝦米投餵給創作者 | 建立「善意流動」的互助生態 |

### 4.2 機構用戶 (B2B) —— 知識合作夥伴

#### 校園思辨訓練系統 (專案授權)
- **模式**：學校支付年費/學期費
- **權益**：透過學校代碼登入的學生帳號，自動享有「永久飽食狀態」 (Unlimited Buffet)
- **價值**：提供數據化成長紀錄，作為通識課程的評分依據

#### 內容與品牌合作 (媒體/出版社)
- **長期聯名**：與深度媒體 (如報導者、泛科學) 聯名，開設「主題泡泡區」
- **草創期冷啟動策略**：邀請知識型新媒體或獨立創作者作為首批「領航座頭鯨」進駐

---

## 5. 技術規範

### 5.1 技術堆疊 (Tech Stack)

- **Framework**: Next.js (React) + TypeScript
- **Styling**: Tailwind CSS (Strict Utility Classes)
- **Icons**: Lucide React
- **Database**: Supabase (稍後實作)
- **部署平台**: Vercel

### 5.2 內容生成規範 (Content Rules)

- **禁止 AI 文案**：使用 "Lorem Ipsum" 或 "[標題示意文字]"
- **禁止 AI 圖片**：使用 `div` 色塊佔位或 Lucide Icons

---

## 6. 開發規範

### 6.1 程式碼行為 (Coding Behavior)

- **逐步開發**：不過度設計
- **解釋原因**：用設計師聽得懂的語言解釋邏輯
- **組件化**：拆分重複 UI
- **白話文註解 (Mandatory Comments)**：
  - 在關鍵邏輯旁加上 `// 繁體中文註解`
  - 解釋「做什麼」與「為什麼」

### 6.2 安全與部署規範 (Security & Production Rules)

1. **環境變數**：不寫死 API Key，使用 `.env.example`
2. **API 保護**：後端 API 需有 Rate Limit 與驗證
3. **機器人防護**：預留 Turnstile / reCAPTCHA 整合位
4. **SEO/隱私**：設定 `robots.txt` 保護管理頁與付費內容
5. **錯誤處理**：404/500 頁面需客製化（使用黃色警示，勿用紅色），禁止暴露 Stack Trace
6. **日誌監控**：預留 Sentry / Logflare 結構
7. **HTTPS**：Cookie 需設定 `Secure; HttpOnly`
8. **成本控制**：API 實作 Rate Limiting 防止爆量
9. **清除開發資訊**：Production build 移除 console.log

### 6.3 反成癮設計原則

| 設計維度 | 競品（Meta/Threads）做法 | 深思氣泡建議做法（反成癮） |
|---------|------------------------|------------------------|
| **內容排序** | 演算法權重（黑箱作業） | **絕對時間軸 (Reverse Chronological)** |
| **瀏覽方式** | 無限捲動 (Infinite Scroll) | **分頁機制 (Pagination) 或 "Load More" 按鈕** |
| **內容結尾** | 永遠沒有盡頭 | **明確的「你已讀完所有更新」提示** |
| **社交回饋** | 顯眼的按讚數/愛心數 | **隱藏計數，或僅作者可見 (著重質而非量)** |
| **通知機制** | 轟炸式、誘導式紅點 | **聚合式通知 (每天摘要一次) 或 被動查詢** |
| **內容形式** | 短影音、圖文快餐 | **長文好讀版面、Markdown 支援、折疊圖片** |

---

## 附錄

### 品牌主標語 (Slogan)

1. **「用泡泡捕捉知識。」** - 最貼合泡泡陣概念
2. **「在深海裡，找到你的觀點。」** - 沈靜、哲學、有品牌力
3. **「像座頭鯨一樣，讓每個泡泡都有力量。」** - 敘事鮮明

### 品牌角色 (Brand Characters)

1. **觀察型（Silent Observer）** - 慢慢吐出小泡泡，收集大量短觀點
2. **分析型（Rational Diver）** - 會深入到中層海域閱讀長內容
3. **哲思型（Abyss Thinker）** - 每天都會深潛到暗黑海底找深度文章
4. **探索型（Random Wanderer）** - 在隨機海域中捕捉各式議題

---

**文件結束**

> 此文件為《深思氣泡 (DeepThought Bubbles)》專案的核心參考文件，所有開發與設計決策應以此文件為準。

